{"version":3,"file":"index.vue_vue_type_script_lang.mjs","sources":["../../../../../../packages/components/popover/src/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  defineComponent,\n  Fragment,\n  createTextVNode,\n  renderSlot,\n  toDisplayString,\n  createCommentVNode,\n  withDirectives,\n  Teleport,\n  h,\n} from 'vue'\nimport { ClickOutside } from '@element-plus/directives'\nimport ElPopper, {\n  popperDefaultProps,\n  Effect,\n  renderArrow,\n  renderPopper,\n  renderTrigger,\n} from '@element-plus/components/popper'\nimport { debugWarn } from '@element-plus/utils/error'\nimport { renderIf, PatchFlags } from '@element-plus/utils/vnode'\nimport usePopover, { SHOW_EVENT, HIDE_EVENT } from './usePopover'\n\nimport type { PropType } from 'vue'\nimport type { TriggerType } from '@element-plus/components/popper'\n\nconst emits = [\n  'update:visible',\n  'after-enter',\n  'after-leave',\n  SHOW_EVENT,\n  HIDE_EVENT,\n]\nconst NAME = 'ElPopover'\n\nconst _hoist = { key: 0, class: 'el-popover__title', role: 'title' }\n\nexport default defineComponent({\n  name: NAME,\n  components: {\n    ElPopper,\n  },\n  props: {\n    ...popperDefaultProps,\n    content: {\n      type: String,\n    },\n    trigger: {\n      type: String as PropType<TriggerType>,\n      default: 'click',\n    },\n    title: {\n      type: String,\n    },\n    transition: {\n      type: String,\n      default: 'fade-in-linear',\n    },\n    width: {\n      type: [String, Number],\n      default: 150,\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true,\n    },\n    tabindex: [String, Number],\n  },\n  emits,\n  setup(props, ctx) {\n    if (props.visible && !ctx.slots.reference) {\n      debugWarn(\n        NAME,\n        `\n        You cannot init popover without given reference\n      `\n      )\n    }\n    const states = usePopover(props, ctx)\n\n    return states\n  },\n  render() {\n    const { $slots } = this\n    const trigger = $slots.reference ? $slots.reference() : null\n\n    const title = renderIf(\n      !!this.title,\n      'div',\n      _hoist,\n      toDisplayString(this.title),\n      PatchFlags.TEXT\n    )\n\n    const content = renderSlot($slots, 'default', {}, () => [\n      createTextVNode(toDisplayString(this.content), PatchFlags.TEXT),\n    ])\n\n    const {\n      events,\n      onAfterEnter,\n      onAfterLeave,\n      onPopperMouseEnter,\n      onPopperMouseLeave,\n      popperStyle,\n      popperId,\n      popperClass,\n      showArrow,\n      transition,\n      visibility,\n      tabindex,\n    } = this\n\n    const kls = [\n      this.content ? 'el-popover--plain' : '',\n      'el-popover',\n      popperClass,\n    ].join(' ')\n\n    const popover = renderPopper(\n      {\n        effect: Effect.LIGHT,\n        name: transition,\n        popperClass: kls,\n        popperStyle,\n        popperId,\n        visibility,\n        onMouseenter: onPopperMouseEnter,\n        onMouseleave: onPopperMouseLeave,\n        onAfterEnter,\n        onAfterLeave,\n        stopPopperMouseEvent: false,\n      },\n      [title, content, renderArrow(showArrow)]\n    )\n\n    // when user uses popover directively, trigger will be null so that we only\n    // render a popper window for displaying contents\n    const _trigger = trigger\n      ? renderTrigger(trigger, {\n          ariaDescribedby: popperId,\n          ref: 'triggerRef',\n          tabindex,\n          ...events,\n        })\n      : createCommentVNode('v-if', true)\n\n    return h(Fragment, null, [\n      this.trigger === 'click'\n        ? withDirectives(_trigger, [[ClickOutside, this.hide]])\n        : _trigger,\n      h(\n        Teleport as any,\n        {\n          disabled: !this.appendToBody,\n          to: 'body',\n        },\n        [popover]\n      ),\n    ])\n  },\n})\n</script>\n"],"names":["ElPopper"],"mappings":";;;;;;;;;;;;AAsBA,WAAW,GAAG;;AAEd,EAAE,aAAa;AACf,EAAE,aAAa;;AAEf,EAAE,UAAU;EACV;MACI,IAAI,GAAG;MACP,MAAM,GAAG;;EAEb,IAAI,EAAE,IAAI;AACZ;AACA,cAAIA;;AAEJ,EAAE,KAAK,EAAE;;AAET,IAAI,OAAO,EAAE;MACP,IAAI,EAAE;KACP;IACD,OAAO;;MAEL;KACD;IACD,KAAK,EAAE;MACL,IAAI,EAAE,MAAM;KACb;IACD;MACE,IAAI,EAAE;MACN,OAAO,EAAE;KACV;IACD,KAAK,EAAE;MACL,IAAI,EAAE,CAAC;;KAER;gBACW,EAAE;MACZ,IAAI,EAAE,OAAO;;KAEd;YACO,EAAE,CAAC,MAAM,EAAE;;;OAGhB,CAAC,KAAK,EAAE,GAAG;QACV,KAAK,CAAC;MACR,SAAS,CAAC;;MAEV,CAAC,CAAC,CAAC;;IAEL;IACA,OAAO,MAAM,CAAC;;QAEV,GAAG;UACD,EAAE;;UAEF,KAAK,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,EAAE,MAAM;;MAEhD;;IAEF,MAAM;;MAEJ;;MAEA;MACA,kBAAkB;MAClB;;MAEA;MACA,SAAS;MACT;MACA;MACA,QAAQ;QACN,IAAI,CAAC;IACT;;MAEE,YAAY;MACZ,WAAW;KACZ;;MAEC;MACA,IAAI,EAAE;MACN,WAAW;MACX,WAAW;MACX,QAAQ;MACR,UAAU;MACV;MACA;MACA;MACA;MACA;OACC,CAAC,KAAK,EAAE;UACL;MACJ;;MAEA,QAAQ;MACR,GAAG,MAAM;MACT,GAAG;WACE,CAAC,CAAC;MACP,IAAI,CAAC;;QAEH,QAAQ,EAAE,KAAK,CAAC;;SAEf,CAAC,OAAO,CAAC,CAAC;;;;;;;"}