{"version":3,"file":"build-modifiers.mjs","sources":["../../../../../../../packages/components/popper/src/use-popper/build-modifiers.ts"],"sourcesContent":["import type { StrictModifiers, Placement } from '@popperjs/core'\n\ninterface ModifierProps {\n  offset?: number\n  arrow?: HTMLElement\n  arrowOffset?: number\n  gpuAcceleration?: boolean\n  fallbackPlacements?: Array<Placement>\n}\n\nexport default function buildModifier(\n  props: ModifierProps,\n  externalModifiers: StrictModifiers[] = []\n) {\n  const { arrow, arrowOffset, offset, gpuAcceleration, fallbackPlacements } =\n    props\n\n  const modifiers: Array<StrictModifiers> = [\n    {\n      name: 'offset',\n      options: {\n        offset: [0, offset ?? 12],\n      },\n    },\n    {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5,\n        },\n      },\n    },\n    {\n      name: 'flip',\n      options: {\n        padding: 5,\n        fallbackPlacements: fallbackPlacements ?? [],\n      },\n    },\n    {\n      name: 'computeStyles',\n      options: {\n        gpuAcceleration,\n        adaptive: gpuAcceleration,\n      },\n    },\n    // tippyModifier,\n  ]\n\n  if (arrow) {\n    modifiers.push({\n      name: 'arrow',\n      options: {\n        element: arrow,\n        // the arrow size is an equailateral triangle with 10px side length, the 3rd side length ~ 14.1px\n        // adding a offset to the ceil of 4.1 should be 5 this resolves the problem of arrow overflowing out of popper.\n        padding: arrowOffset ?? 5,\n      },\n    })\n  }\n\n  modifiers.push(...externalModifiers)\n  return modifiers\n}\n"],"names":[],"mappings":"AAAe,SAAS,aAAa,CAAC,KAAK,EAAE,iBAAiB,GAAG,EAAE,EAAE;AACrE,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,GAAG,KAAK,CAAC;AACpF,EAAE,MAAM,SAAS,GAAG;AACpB,IAAI;AACJ,MAAM,IAAI,EAAE,QAAQ;AACpB,MAAM,OAAO,EAAE;AACf,QAAQ,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,IAAI,IAAI,GAAG,MAAM,GAAG,EAAE,CAAC;AACjD,OAAO;AACP,KAAK;AACL,IAAI;AACJ,MAAM,IAAI,EAAE,iBAAiB;AAC7B,MAAM,OAAO,EAAE;AACf,QAAQ,OAAO,EAAE;AACjB,UAAU,GAAG,EAAE,CAAC;AAChB,UAAU,MAAM,EAAE,CAAC;AACnB,UAAU,IAAI,EAAE,CAAC;AACjB,UAAU,KAAK,EAAE,CAAC;AAClB,SAAS;AACT,OAAO;AACP,KAAK;AACL,IAAI;AACJ,MAAM,IAAI,EAAE,MAAM;AAClB,MAAM,OAAO,EAAE;AACf,QAAQ,OAAO,EAAE,CAAC;AAClB,QAAQ,kBAAkB,EAAE,kBAAkB,IAAI,IAAI,GAAG,kBAAkB,GAAG,EAAE;AAChF,OAAO;AACP,KAAK;AACL,IAAI;AACJ,MAAM,IAAI,EAAE,eAAe;AAC3B,MAAM,OAAO,EAAE;AACf,QAAQ,eAAe;AACvB,QAAQ,QAAQ,EAAE,eAAe;AACjC,OAAO;AACP,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,IAAI,KAAK,EAAE;AACb,IAAI,SAAS,CAAC,IAAI,CAAC;AACnB,MAAM,IAAI,EAAE,OAAO;AACnB,MAAM,OAAO,EAAE;AACf,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,OAAO,EAAE,WAAW,IAAI,IAAI,GAAG,WAAW,GAAG,CAAC;AACtD,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,SAAS,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC,CAAC;AACvC,EAAE,OAAO,SAAS,CAAC;AACnB;;;;"}