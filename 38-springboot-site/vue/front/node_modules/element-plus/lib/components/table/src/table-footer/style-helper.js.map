{"version":3,"file":"style-helper.js","sources":["../../../../../../../packages/components/table/src/table-footer/style-helper.ts"],"sourcesContent":["import { computed, getCurrentInstance } from 'vue'\nimport useMapState from './mapState-helper'\n\nimport type { Table } from '../table/defaults'\nimport type { TableColumnCtx } from '../table-column/defaults'\nimport type { TableFooter } from '.'\n\nfunction useStyle<T>(props: TableFooter<T>) {\n  const instance = getCurrentInstance()\n  const table = instance.parent as Table<T>\n  const store = table.store\n\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns,\n  } = useMapState<T>()\n\n  const hasGutter = computed(() => {\n    return !props.fixed && !table.layout.gutterWidth\n  })\n  const isCellHidden = (\n    index: number,\n    columns: TableColumnCtx<T>[],\n    column: TableColumnCtx<T>\n  ) => {\n    if (props.fixed || props.fixed === 'left') {\n      return index >= leftFixedLeafCount.value\n    } else if (props.fixed === 'right') {\n      let before = 0\n      for (let i = 0; i < index; i++) {\n        before += columns[i].colSpan\n      }\n      return before < columnsCount.value - rightFixedLeafCount.value\n    } else if (!props.fixed && column.fixed) {\n      // hide cell when footer instance is not fixed and column is fixed\n      return true\n    } else {\n      return (\n        index < leftFixedCount.value ||\n        index >= columnsCount.value - rightFixedCount.value\n      )\n    }\n  }\n  const getRowClasses = (column: TableColumnCtx<T>, cellIndex: number) => {\n    const classes = [column.id, column.align, column.labelClassName]\n    if (column.className) {\n      classes.push(column.className)\n    }\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push('is-hidden')\n    }\n    if (!column.children) {\n      classes.push('is-leaf')\n    }\n    return classes\n  }\n\n  return {\n    hasGutter,\n    getRowClasses,\n    columns,\n  }\n}\n\nexport default useStyle\n"],"names":["getCurrentInstance","useMapState","computed"],"mappings":";;;;;;;AAEA,SAAS,QAAQ,CAAC,KAAK,EAAE;AACzB,EAAE,MAAM,QAAQ,GAAGA,sBAAkB,EAAE,CAAC;AACxC,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC;AAChC,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;AAC5B,EAAE,MAAM;AACR,IAAI,kBAAkB;AACtB,IAAI,mBAAmB;AACvB,IAAI,YAAY;AAChB,IAAI,cAAc;AAClB,IAAI,eAAe;AACnB,IAAI,OAAO;AACX,GAAG,GAAGC,yBAAW,EAAE,CAAC;AACpB,EAAE,MAAM,SAAS,GAAGC,YAAQ,CAAC,MAAM;AACnC,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC;AACrD,GAAG,CAAC,CAAC;AACL,EAAE,MAAM,YAAY,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,KAAK;AACpD,IAAI,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,KAAK,MAAM,EAAE;AAC/C,MAAM,OAAO,KAAK,IAAI,kBAAkB,CAAC,KAAK,CAAC;AAC/C,KAAK,MAAM,IAAI,KAAK,CAAC,KAAK,KAAK,OAAO,EAAE;AACxC,MAAM,IAAI,MAAM,GAAG,CAAC,CAAC;AACrB,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;AACtC,QAAQ,MAAM,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;AACtC,OAAO;AACP,MAAM,OAAO,MAAM,GAAG,YAAY,CAAC,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC;AACrE,KAAK,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,EAAE;AAC7C,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK,MAAM;AACX,MAAM,OAAO,KAAK,GAAG,cAAc,CAAC,KAAK,IAAI,KAAK,IAAI,YAAY,CAAC,KAAK,GAAG,eAAe,CAAC,KAAK,CAAC;AACjG,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,MAAM,aAAa,GAAG,CAAC,MAAM,EAAE,SAAS,KAAK;AAC/C,IAAI,MAAM,OAAO,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,cAAc,CAAC,CAAC;AACrE,IAAI,IAAI,MAAM,CAAC,SAAS,EAAE;AAC1B,MAAM,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACrC,KAAK;AACL,IAAI,IAAI,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE;AACrE,MAAM,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAChC,KAAK;AACL,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;AAC1B,MAAM,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC9B,KAAK;AACL,IAAI,OAAO,OAAO,CAAC;AACnB,GAAG,CAAC;AACJ,EAAE,OAAO;AACT,IAAI,SAAS;AACb,IAAI,aAAa;AACjB,IAAI,OAAO;AACX,GAAG,CAAC;AACJ;;;;"}