var ne=Object.defineProperty,ie=Object.defineProperties;var ce=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var X=(t,d,e)=>d in t?ne(t,d,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[d]=e,M=(t,d)=>{for(var e in d||(d={}))de.call(d,e)&&X(t,e,d[e]);if(G)for(var e of G(d))ue.call(d,e)&&X(t,e,d[e]);return t},q=(t,d)=>ie(t,ce(d));import{Y as me}from"./YhBreadcrumb.2e4fbba5.js";/* empty css             *//* empty css                     *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  */import{Y as L}from"./YhTitle.afde0dfe.js";import{p as fe}from"./regular.e69cabff.js";import{u as pe}from"./useCheckIdCard.98c4e3d5.js";import"./useGetCollectionDesc.6b6a7e16.js";import"./moment.08a7f518.js";import{r as H,c as K,g as he,U as _e,f as be}from"./index.4c3bf3be.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import{ag as A,r as $,X as O,o as C,q as I,d as o,x as n,w as h,F as E,D as F,c as T,b as D,Y as P,Z as Y,a0 as W,a1 as z,a2 as J,u as Q,K as ve,au as ge,Q as ye,av as we,aw as De,P as Z,g as U,R as Ce,T as xe,a3 as Re,s as ee,v as te,U as ae,V as Ie,W as le}from"./vendor.94a1cd75.js";/* empty css                   *//* empty css                    */import{r as Ae}from"./el-icon.fde164af.js";import{Y as Ve}from"./YhAgreement.e68cba55.js";/* empty css                                                                 */import"./AgreementContent.5b3ad6cf.js";/* empty css                  *//* empty css                                                                     *//* empty css                                                                */const Se=t=>{const d=M({chb004:"02",aab301:K.areaCode,methodname:"E101",chb09g:2,chb015:"999",chb017:"999",chb018:"999"},t);return new Promise((e,i)=>{H("/frontRestService/frontCommonDataRestService/getData",d).then(g=>{e(g)}).catch(g=>{i(g)})})},$e=t=>{const d=M({chb004:"02",aab301:K.areaCode,methodname:"E102",chb09g:2},t);return new Promise((e,i)=>{H("/frontRestService/frontCommonDataRestService/getData",d).then(g=>{e(g)}).catch(g=>{i(g)})})};const Me={class:"whistleblower"},Be={class:"form-wrapper"},je={class:"el-form-item-cells"},Ue={class:"el-form-item-cell"},ke={class:"el-form-item-cell"},Ne={class:"el-form-item-cell"},Ee={class:"el-form-item-cell"},Le={props:{formData:{type:Object,default:()=>({aac002:"",aac003:"",aae005:"",aae006:""})},codeMap:{type:[Object],default:()=>{}}},setup(t,{expose:d}){const e=t,i=A(null),g=$({aac002:[{trigger:"blur",required:!0,message:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7"},{validator:pe,trigger:"blur"}],aac003:{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D",trigger:"blur"},aae005:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801"},{pattern:fe,trigger:"blur",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7535\u8BDD\u53F7\u7801"}],aae006:{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5728\u533A\u53BF",trigger:"change"}}),R=f=>{f||(f=i.value);let s=!1;return f.validate((_,b)=>{if(_)s=!0;else{const u=[];for(let m in b)u.push(m);const w=u[0];f.scrollToField(w)}}),s};return O(()=>{}),d({handleSubmit:R}),(f,s)=>{const _=P,b=Y,u=W,w=z,m=J;return C(),I("div",Me,[o(L,{title:"\u4E3E\u62A5\u4EBA\u4FE1\u606F",type:"03"}),n("div",Be,[o(m,{ref_key:"formRef",ref:i,model:t.formData,rules:D(g),"label-width":"90px"},{default:h(()=>[n("div",je,[n("div",Ue,[o(b,{label:"\u59D3\u540D\uFF1A",prop:"aac003"},{default:h(()=>[o(_,{modelValue:t.formData.aac003,"onUpdate:modelValue":s[0]||(s[0]=a=>t.formData.aac003=a),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",style:{width:"280px"}},null,8,["modelValue"])]),_:1})]),n("div",ke,[o(b,{label:"\u8EAB\u4EFD\u8BC1\u53F7\uFF1A",prop:"aac002"},{default:h(()=>[o(_,{modelValue:t.formData.aac002,"onUpdate:modelValue":s[1]||(s[1]=a=>t.formData.aac002=a),placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7",style:{width:"280px"},maxlength:"18"},null,8,["modelValue"])]),_:1})]),n("div",Ne,[o(b,{label:"\u8054\u7CFB\u7535\u8BDD\uFF1A",prop:"aae005"},{default:h(()=>[o(_,{modelValue:t.formData.aae005,"onUpdate:modelValue":s[2]||(s[2]=a=>t.formData.aae005=a),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",style:{width:"280px"},maxlength:"11"},null,8,["modelValue"])]),_:1})]),n("div",Ee,[o(b,{label:"\u6240\u5728\u533A\u53BF\uFF1A",prop:"chb015"},{default:h(()=>[o(w,{modelValue:t.formData.aae006,"onUpdate:modelValue":s[3]||(s[3]=a=>t.formData.aae006=a),placeholder:"\u8BF7\u6240\u5728\u533A\u53BF",style:{width:"280px"}},{default:h(()=>[(C(!0),I(E,null,F(e.codeMap.chb015,(a,v)=>(C(),T(u,{key:v,label:a.aaa103,value:a.aaa102},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])])])}}};var Fe=j(Le,[["__scopeId","data-v-0928e82d"]]);const Te={class:"reported"},qe={class:"form-wrapper"},Pe={class:"el-form-item-cells"},Ye={class:"el-form-item-cell"},Je={class:"el-form-item-cell"},Oe={class:"el-form-item-cell"},We={props:{formData:{type:Object,default:()=>({aab012:"",aab001:"",chi037:"",aab01w:"",chi031:""})},isNeedInput:{type:Boolean,default:!0},codeMap:{type:[Object],default:()=>{}}},setup(t,{expose:d}){const e=t;Q(),ve();const i=A(null),g=$({aab012:{required:!0,message:"\u8BF7\u8F93\u5165\u88AB\u4E3E\u62A5\u4F01\u4E1A\u540D\u79F0",trigger:"blur"},aab01w:{required:!0,message:"\u8BF7\u8F93\u5165\u7EDF\u4E00\u793E\u4F1A\u4FE1\u7528\u4EE3\u7801",trigger:"blur"},chi031:{required:!0,message:"\u8BF7\u9009\u62E9\u8865\u8D34\u9879\u76EE",trigger:"change"}});return d({handleSubmit:f=>{f||(f=i.value);let s=!1;return f.validate((_,b)=>{if(_)s=!0;else{const u=[];for(let m in b)u.push(m);const w=u[0];f.scrollToField(w)}}),s}}),(f,s)=>{const _=P,b=Y,u=W,w=z,m=J;return C(),I("div",Te,[o(L,{title:"\u4E3E\u62A5\u5BF9\u8C61\u4FE1\u606F",type:"03"}),n("div",qe,[o(m,{ref_key:"formRef",ref:i,model:t.formData,rules:D(g),"label-width":"90px"},{default:h(()=>[n("div",Pe,[n("div",Ye,[o(b,{label:"\u4F01\u4E1A\u540D\u79F0\uFF1A",prop:"aab012"},{default:h(()=>[o(_,{disabled:!e.isNeedInput,modelValue:t.formData.aab012,"onUpdate:modelValue":s[0]||(s[0]=a=>t.formData.aab012=a),placeholder:"\u8BF7\u8F93\u5165\u4F01\u4E1A\u540D\u79F0",style:{width:"280px"}},null,8,["disabled","modelValue"])]),_:1})]),n("div",Je,[o(b,{label:"\u793E\u4F1A\u7EDF\u4E00\u4FE1\u7528\u4EE3\u7801\uFF1A","label-width":"150px",prop:"aab01w"},{default:h(()=>[o(_,{disabled:!e.isNeedInput,modelValue:t.formData.aab01w,"onUpdate:modelValue":s[1]||(s[1]=a=>t.formData.aab01w=a),placeholder:"\u8BF7\u8F93\u5165\u4F01\u4E1A\u5355\u4F4D\u7F16\u53F7",style:{width:"220px"}},null,8,["disabled","modelValue"])]),_:1})]),o(b,{label:"\u7533\u62A5\u9879\u76EE\uFF1A",prop:"chi031"},{default:h(()=>[o(w,{disabled:!e.isNeedInput,modelValue:t.formData.chi031,"onUpdate:modelValue":s[2]||(s[2]=a=>t.formData.chi031=a),placeholder:"\u8BF7\u9009\u62E9\u7533\u62A5\u9879\u76EE",style:{width:"280px"}},{default:h(()=>[(C(!0),I(E,null,F(t.codeMap.chi031,(a,v)=>(C(),T(u,{key:v,label:a.aaa103,value:a.aaa102},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue"])]),_:1}),n("div",Oe,[o(b,{label:"\u4E1A\u52A1\u5C40\uFF1A",required:"",prop:"chi037"},{default:h(()=>[o(w,{disabled:!e.isNeedInput,modelValue:t.formData.chi037,"onUpdate:modelValue":s[3]||(s[3]=a=>t.formData.chi037=a),placeholder:"\u8BF7\u9009\u62E9\u4E1A\u52A1\u5C40",style:{width:"280px"}},{default:h(()=>[(C(!0),I(E,null,F(e.codeMap.chi037,(a,v)=>(C(),T(u,{key:v,label:a.aaa103,value:a.aaa102},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue"])]),_:1})])])]),_:1},8,["model","rules"])])])}}};var ze=j(We,[["__scopeId","data-v-58873c04"]]);const Ge={class:"content"},Xe={class:"form-wrapper"},He={class:"el-form-item-cells"},Ke={class:"el-form-item-cell"},Qe={class:"el-form-item-cell"},Ze={class:"el-form-item-cell"},et={class:"el-form-item-cell"},tt={props:{formData:{type:Object,default:()=>({chb091:"",chb092:"",chb093:"",aae013:""})},codeMap:{type:[Object],default:()=>{}}},setup(t,{expose:d}){const e=t,i=A(null),g=$({chb091:{required:!0,message:"\u8BF7\u9009\u62E9\u6295\u8BC9\u7C7B\u522B",trigger:"change"},chb092:{required:!0,message:"\u8BF7\u8F93\u5165\u6295\u8BC9\u6807\u9898",trigger:"blur"},chb093:{required:!0,message:"\u8BF7\u8F93\u5165\u6295\u8BC9\u5185\u5BB9",trigger:"blur"},aae013:{required:!0,message:"\u8BF7\u9009\u62E9\u8F93\u5165\u5907\u6CE8",trigger:"blur"}});return d({handleSubmit:f=>{f||(f=i.value);let s=!1;return f.validate((_,b)=>{if(_)s=!0;else{const u=[];for(let m in b)u.push(m);const w=u[0];f.scrollToField(w)}}),s}}),(f,s)=>{const _=W,b=z,u=Y,w=P,m=J;return C(),I("div",Ge,[o(L,{title:"\u4E3E\u62A5\u5185\u5BB9",type:"03"}),n("div",Xe,[o(m,{ref_key:"formRef",ref:i,model:t.formData,rules:D(g),"label-width":"90px"},{default:h(()=>[n("div",He,[n("div",null,[n("div",Ke,[o(u,{label:"\u6295\u8BC9\u4E3B\u9898\uFF1A",prop:"chb091"},{default:h(()=>[o(b,{modelValue:t.formData.chb091,"onUpdate:modelValue":s[0]||(s[0]=a=>t.formData.chb091=a),placeholder:"\u8BF7\u9009\u62E9\u6295\u8BC9\u4E3B\u9898",style:{width:"280px"}},{default:h(()=>[(C(!0),I(E,null,F(e.codeMap.chb091,(a,v)=>(C(),T(_,{key:v,label:a.aaa103,value:a.aaa102},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),n("div",Qe,[o(u,{label:"\u6295\u8BC9\u6807\u9898\uFF1A",prop:"chb092"},{default:h(()=>[o(w,{modelValue:t.formData.chb092,"onUpdate:modelValue":s[1]||(s[1]=a=>t.formData.chb092=a),placeholder:"\u8BF7\u8F93\u5165\u6295\u8BC9\u6807\u9898",style:{width:"650px"}},null,8,["modelValue"])]),_:1})]),n("div",Ze,[o(u,{label:"\u6295\u8BC9\u5185\u5BB9\uFF1A",prop:"chb093"},{default:h(()=>[o(w,{modelValue:t.formData.chb093,"onUpdate:modelValue":s[2]||(s[2]=a=>t.formData.chb093=a),type:"textarea",autosize:{minRows:8},style:{width:"1020px"}},null,8,["modelValue"])]),_:1})]),n("div",et,[o(u,{label:"\u5907\u6CE8\uFF1A",prop:"aae013"},{default:h(()=>[o(w,{modelValue:t.formData.aae013,"onUpdate:modelValue":s[3]||(s[3]=a=>t.formData.aae013=a),type:"textarea",autosize:{minRows:8},style:{width:"1020px"}},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])])])}}};var at=j(tt,[["__scopeId","data-v-eacdf146"]]);const lt=["src"],ot={class:"el-upload-list__item-actions"},st=["onClick"],rt=["onClick"],nt=["src"],oe=ge({props:{maxLength:{type:Number,default:5},fileType:{type:Array,default:()=>[]},fileSize:{type:Number,default:0}},emits:["getFilesList"],setup(t,{expose:d,emit:e}){const i=t,g=A(""),R=A(!1),f=A(!1),s=A(null),_=$({fileList:[],imagesBase64Arr:[]}),b=()=>{console.log("aaa"),s.value.uploadFiles=[],_.fileList=[]},u=l=>{let r=s.value.uploadFiles,c=r.findIndex(y=>y.uid===l.uid);r.splice(c,1),_.fileList=[...r]},w=l=>{g.value=l.url,R.value=!0},m=(l,r)=>{let[c]=l.raw.type.split("/");i.fileType.length!==0&&(i.fileType.find(p=>p==c)||(u(l),U.warning(`\u6587\u4EF6\u7C7B\u578B\u4E0D\u4E3A${i.fileType.join("\u3001")},\u65E0\u6CD5\u4E0A\u4F20`))),console.log(l,l.size/1048576),i.fileSize>0&&i.fileSize<l.size/1048576&&(u(l),U.warning(`\u6587\u4EF6\u5927\u4E8E${i.fileSize}M,\u65E0\u6CD5\u4E0A\u4F20`)),_.fileList=[...r]},a=l=>new Promise((r,c)=>{const y=l.raw,p=new FileReader;p.readAsDataURL(y),p.onload=x=>{const S=p.result;r(S)},p.onerror=x=>{c(x)}}),v=()=>new Promise((l,r)=>{let c=[];if(_.imagesBase64Arr=[],_.fileList.length==0){l(c);return}_.fileList.forEach(async(y,p)=>{let x=await a(y),S={};console.log(y,"va");let[,k]=y.raw.type.split("/"),[B]=y.name.split("."+k),re=await V({base64:x,name:B},S);c.push({file:y,hadUpfile:re}),p==_.fileList.length-1&&(console.log(c,"cccc"),l(c))})}),V=async(l,r)=>{let{base64:c,name:y}=l;const p=await Ae(c,y),{bucketid:x,objectid:S,objectkey:k}=p.data;return r.path=c,r.bucketid=x,r.objectid=S,r.objectkey=k,p};return d({handleUploadAllfiles:v,removeAllFile:b}),(l,r)=>{const c=Ce,y=xe,p=Re;return C(),I(E,null,[o(y,{action:"#","list-type":"picture-card","on-change":m,limit:i.maxLength,"auto-upload":!1,ref_key:"uploadRef",ref:s},{default:h(()=>[o(c,null,{default:h(()=>[o(D(ye))]),_:1})]),file:h(({file:x})=>[n("div",null,[n("img",{class:"el-upload-list__item-thumbnail",src:x.url,alt:""},null,8,lt),n("span",ot,[n("span",{class:"el-upload-list__item-preview",onClick:S=>w(x)},[o(c,null,{default:h(()=>[o(D(we))]),_:1})],8,st),f.value?Z("",!0):(C(),I("span",{key:0,class:"el-upload-list__item-delete",onClick:S=>u(x)},[o(c,null,{default:h(()=>[o(D(De))]),_:1})],8,rt))])])]),_:1},8,["limit"]),o(p,{modelValue:R.value,"onUpdate:modelValue":r[0]||(r[0]=x=>R.value=x)},{default:h(()=>[n("img",{width:"100%",src:g.value,alt:""},null,8,nt)]),_:1},8,["modelValue"])],64)}}});const it={name:"VoucherUpload",components:{YhTitle:L,YhUploadImages:oe},data(){return{files:[],upLoadBase64Arr:[]}},methods:{async handleUpLoad(){let t=await this.$refs.YhUploadImagesRef.handleUploadAllfiles();console.log(t,"wwww");let d=!1;return t.forEach(e=>{e.hadUpfile.code!=="1"&&(d=!0)}),{arr:t,err:d}},removeAllFile(){this.$refs.YhUploadImagesRef.removeAllFile()}}},ct=t=>(ee("data-v-54c5b495"),t=t(),te(),t),dt={class:"voucher-upload"},ut={class:"upload"},mt=ct(()=>n("div",{class:"reminder"}," \u6E29\u99A8\u63D0\u793A:\u6700\u591A\u53EF\u540C\u65F6\u4E0A\u4F205\u4E2A\u6587\u4EF6\uFF0C\u6BCF\u4E2A\u6587\u4EF6\u53EA\u5141\u8BB8\u4E0A\u4F202M\u5927\u5C0F\u3002\u9644\u4EF6\u4EC5\u9650\u4E8E\u6587\u4EF6\u540D\u540E\u7F00\u4E3A: jpg\u3001 png\u3001 gif\u3001bmp\u3001jpeg\u3001 tiff\u3001 svg\u3001webp\u7684\u6587\u4EF6,\u7981\u6B62exe\u3001bat\u7B49\u683C\u5F0F\u6587\u4EF6\u4E0A\u4F20! ",-1));function ft(t,d,e,i,g,R){const f=L,s=oe;return C(),I("div",dt,[o(f,{title:"\u51ED\u8BC1\u4E0A\u4F20",type:"03"}),n("div",ut,[mt,o(s,{onGetFilesList:t.handleGetFilesList,fileType:["image"],fileSize:2,ref:"YhUploadImagesRef"},null,8,["onGetFilesList"])])])}var pt=j(it,[["render",ft],["__scopeId","data-v-54c5b495"]]);const ht={class:"complaint-submit"},_t={class:"verification-code"},bt={class:"el-form-item-cells"},vt={class:"el-form-item-cell"},gt={class:"agreement-wrapper"},yt={class:"button-wrapper"},wt=["disabled"],Dt={props:{formData:{type:Object,default:()=>({input:"",isRead:!1})},hadComplaind:{type:Boolean,default:()=>!1}},emits:["reset","submit","showModel"],setup(t,{expose:d,emit:e}){const i=t;A(!1);const g=A(null),R=$({randomNum:[]}),f=(m,a,v)=>{a?a.toLowerCase()!==R.randomNum.join("")?(b(),v(new Error("\u8BF7\u9A8C\u8BC1\u7801\u9519\u8BEF\u8BF7\u91CD\u8BD5"))):v():v(new Error("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"))},s=m=>{m||(m=g.value);let a=!1;return m.validate((v,V)=>{if(v)a=!0;else{const l=[];for(let c in V)l.push(c);const r=l[0];m.scrollToField(r)}}),a},_=$({input:{validator:f,trigger:"blur"}}),b=()=>{let m=[];var a=document.getElementById("canvas").width,v=document.getElementById("canvas").height,V=document.getElementById("canvas"),l=V.getContext("2d");V.width=a,V.height=v;var r="a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0",c=r.split(","),y=c.length;R.randomNum=[];for(var p=0;p<4;p++){var x=Math.floor(Math.random()*y),S=Math.random()-.5,k=c[x];m[p]=k.toLowerCase();var B=10+p*20,N=20+Math.random()*8;l.font="bold 23px \u5FAE\u8F6F\u96C5\u9ED1",l.translate(B,N),l.rotate(S),l.fillStyle=u(),l.fillText(k,0,0),l.rotate(-S),l.translate(-B,-N)}R.randomNum=[...m];for(var p=0;p<=5;p++)l.strokeStyle=u(),l.beginPath(),l.moveTo(Math.random()*a,Math.random()*v),l.lineTo(Math.random()*a,Math.random()*v),l.stroke();for(var p=0;p<=30;p++){l.strokeStyle=u(),l.beginPath();var B=Math.random()*a,N=Math.random()*v;l.moveTo(B,N),l.lineTo(B+1,N+1),l.stroke()}},u=()=>{var m=Math.floor(Math.random()*256),a=Math.floor(Math.random()*256),v=Math.floor(Math.random()*256);return"rgb("+m+","+a+","+v+")"},w=()=>{i.formData.isRead=!0};return O(()=>{b()}),d({handleSubmit:s}),(m,a)=>{const v=P,V=Y,l=J;return C(),I("div",ht,[n("div",_t,[o(l,{ref_key:"formRef",ref:g,model:t.formData,rules:D(_),"label-width":"90px"},{default:h(()=>[n("div",bt,[n("div",vt,[o(V,{label:"\u9A8C\u8BC1\u7801\uFF1A",prop:"input"},{default:h(()=>[o(v,{class:"my-input",maxlength:"4",modelValue:t.formData.input,"onUpdate:modelValue":a[1]||(a[1]=r=>t.formData.input=r),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",style:{height:"40px"}},{append:h(()=>[n("canvas",{id:"canvas",width:"100",onClick:a[0]||(a[0]=r=>b()),height:"32"})]),_:1},8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])]),n("div",gt,[o(Ve,{agreement:"\u300A\u6295\u8BC9\u4E3E\u62A5\u987B\u77E5\u300B",modelValue:t.formData.isRead,onHandlerAgree:w},null,8,["modelValue"])]),n("div",yt,[n("button",{class:"primary reverse",onClick:a[2]||(a[2]=r=>e("reset"))},"\u91CD\u7F6E"),n("button",{class:"primary",disabled:i.hadComplaind,onClick:a[3]||(a[3]=r=>e("submit"))},"\u63D0\u4EA4",8,wt)])])}}};var Ct=j(Dt,[["__scopeId","data-v-7e28cc4a"]]),xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACHklEQVRYR+1WuY7UQBSs6hkbiV/AJtwxiCMhJyUBJC6tuISQgAS+BhKOAHFphTgEJMTEBFwCj8gY7wcQEGCP+6H22NbsHLZ7xuwk67SPqlf9XK+IFX9cMT52CMxU4KfXPSrC32ubyac2nij0nSMKsnttMPwwed8Uge++e0ARXyEiEF4KovjpMiRCz70AymOQhMbhIIq/jN83RSD03ENQ+JxtWpLEFnAAWnBw/yD+VknALP7wnJtUvF2S0PpcsJm+sFEi3NM5A6WeZ5WbWrTc2hcld2qfoNgwQSKF1utNSeTgGyA7VeBmrfI37HvONVG8lyuRAvpUMEjfVikR+p0TgHpVgFPL9V6U3J93ptYHMhLEXSOliAwJfXoeCQMuUC9Jdk3/UHCjCrxWgYJ1f69zWQQPSxIix4No+H68qilw4krvV/Korm9qFZhJAhJTy8mCROh1jwn5rqy8IXhjBUoSvrsukGeZEjmJrMkU3xB0M9nB871BvFFXebHeWIFZJAD5KwBz8JTgRRtwawUmSDwpOh0iKUWf7UXp66aVL6yAOdgfPcVqCOTgWR+YJxhVwl2ZCv/7CcbBt70Jt3jBdv+GKzUiWysu50AbVrzQMBqN4XISLjyMWhjHtVlgrhG1EkjGo5hNICkzYWbyy+XCyUhmlwmXBC+sNvSdqwAeGONqnAlNLE/JP8Eg+Wjr7bP2W8XyNgBt7rAexzaXN9m7Q+Af0vaVMA58FjAAAAAASUVORK5CYII=";const se=t=>(ee("data-v-d0e066e6"),t=t(),te(),t),Rt={class:"complaint-content"},It={class:"box"},At=se(()=>n("img",{src:xt,alt:""},null,-1)),Vt=[At],St=se(()=>n("div",{class:"title"},[n("span",null,"\u6295\u8BC9"),n("span",null,"\u4E3E\u62A5"),n("span",null,"\u987B\u77E5")],-1)),$t={class:"content"},Mt=["innerHTML"],Bt={emits:["closeModel"],setup(t,{emit:d}){const e=$({notice:[{text:"\u672C\u5E73\u53F0\u76EE\u524D\u4E3B\u8981\u53D7\u7406\u6709\u5173\u4F01\u4E1A\u6276\u6301\u8D44\u91D1\u3001\u60E0\u4F01\u9886\u57DF\u8150\u8D25\u548C\u4F5C\u98CE\u95EE\u9898\u7B49\u6295\u8BC9\u4E3E\u62A5\u3002\u5176\u4ED6\u4FE1\u8BBF\u4E8B\u9879\u3001\u6D89\u6CD5\u6D89\u8BC9\u7B49\u95EE\u9898\uFF0C\u8BF7\u5411\u6709\u5173\u804C\u80FD\u90E8\u95E8\u53CD\u6620\u3002"},{text:'\u6295\u8BC9\u4E3E\u62A5\u4EBA\u9700\u4F7F\u7528\u771F\u5B9E\u59D3\u540D\uFF0C\u5E76\u5982\u5B9E\u586B\u5199\u4E3E\u62A5\u4FE1\u606F\u680F\u4E2D\u7684\u5404\u9879\u5185\u5BB9\uFF0C\u6807\u6709\u201C<span style="color:red;">*</span>\u201D\u7684\u4E3A\u5FC5\u586B\u9879\u76EE\u3002'},{text:"\u6295\u8BC9\u4E3E\u62A5\u4EBA\u5E94\u5F53\u9075\u5B88\u6709\u5173\u6CD5\u5F8B\u6CD5\u89C4\uFF0C\u4E0D\u5F97\u8BEC\u544A\u3001\u9677\u5BB3\u4ED6\u4EBA\uFF0C\u4E0D\u5F97\u635F\u5BB3\u56FD\u5BB6\u3001\u793E\u4F1A\u3001\u96C6\u4F53\u7684\u5229\u76CA\u548C\u5176\u4ED6\u516C\u6C11\u7684\u5408\u6CD5\u6743\u5229\u3002\u5BF9\u501F\u6295\u8BC9\u4E3E\u62A5\u8BEC\u544A\u9677\u5BB3\u4ED6\u4EBA\u7684\uFF0C\u4F9D\u7167\u6709\u5173\u89C4\u5B9A\u4E25\u8083\u5904\u7406\u3002"},{text:"\u6295\u8BC9\u4E3E\u62A5\u7684\u5185\u5BB9\u5E94\u5F53\u5BA2\u89C2\u3001\u771F\u5B9E\uFF0C\u8868\u8FF0\u5C3D\u53EF\u80FD\u6E05\u6670\u3001\u5177\u4F53\uFF0C\u4E0D\u5F97\u634F\u9020\u3001\u6B6A\u66F2\u4E8B\u5B9E\u3002"},{text:"\u6839\u636E\u6295\u8BC9\u4E3E\u62A5\u5185\u5BB9\uFF0C\u672C\u5E73\u53F0\u5C06\u6309\u7167\u201C\u5C5E\u5730\u7BA1\u7406\u3001\u5206\u7EA7\u8D1F\u8D23\u201D\u548C\u201C\u8C01\u4E3B\u7BA1\u3001\u8C01\u8D1F\u8D23\u201D\u7684\u539F\u5219\uFF0C\u4F9D\u7EAA\u4F9D\u89C4\u8FDB\u884C\u529E\u7406\u3002"},{text:"\u5BF9\u6295\u8BC9\u4E3E\u62A5\u7684\u529E\u7406\u7ED3\u679C\u7B49\u4FE1\u606F\uFF0C\u672C\u5E73\u53F0\u5C06\u901A\u8FC7\u624B\u673A\u77ED\u4FE1\u901A\u77E5\u60A8\uFF0C\u8BF7\u6CE8\u610F\u767B\u5F55\u5E73\u53F0\u67E5\u770B\u8BE6\u60C5\u3002"},{text:"\u672C\u5E73\u53F0\u62E5\u6709\u7BA1\u7406\u6295\u8BC9\u4E3E\u62A5\u7684\u4E00\u5207\u6743\u5229\uFF0C\u5305\u62EC\u5BA1\u6838\u3001\u53D1\u5E03\u3001\u5F15\u7528\u548C\u5220\u9664\u60A8\u7684\u7559\u8A00\u53CA\u5176\u4ED6\u5FC5\u8981\u7684\u7BA1\u7406\u6743\u529B\u3002"}]}),i=()=>{d("closeModel")};return(g,R)=>(C(),I("div",Rt,[n("div",It,[n("div",{class:"close",onClick:i},Vt),St,n("div",$t,[n("ul",null,[(C(!0),I(E,null,F(D(e).notice,(f,s)=>(C(),I("li",{key:s,innerHTML:s+1+"\u3001"+f.text},null,8,Mt))),128))])]),n("div",{class:"know-btn"},[n("button",{onClick:i},"\u6211\u5DF2\u9605\u8BFB")])])]))}};var jt=j(Bt,[["__scopeId","data-v-d0e066e6"]]);const Ut={class:"complaint"},kt={class:"container"},Nt={class:"container__inner"},Et={setup(t){let d=$([{id:"01",path:"/home",name:"\u9996\u9875"},{id:"/home/complaint/complaint",path:"",name:"\u6295\u8BC9\u4E3E\u62A5"}]),e=$({fileList:[],formDataBasicInfo:{chb091:"",chb092:"",chb093:"",aae013:"",aab012:"",aab001:"",chi037:"",aac002:"",aac003:"",aae005:"",chb015:"",input:"",aae006:"",aab01w:"",isRead:!1,chi031:""},isNeedInput:!0,companyData:{},formCopyData:{},hadComplaind:!1,isShowComplaintNotice:!0});const i=$({chb017:[],chi037:[],chb091:[],chi031:[]});ae(()=>e.formDataBasicInfo.chb091,l=>{if(l&&e.formDataBasicInfo.aab012){let r=i.chb091.find(c=>c.aaa102==l);e.formDataBasicInfo.chb092=e.formDataBasicInfo.aab012+"\u5B58\u5728"+r.aaa103}}),ae(()=>e.formDataBasicInfo.aab012,l=>{if(l&&e.formDataBasicInfo.chb091){let r=i.chb091.find(c=>c.aaa102==e.formDataBasicInfo.chb091);e.formDataBasicInfo.chb092=l+"\u5B58\u5728"+r.aaa103}});const g=Q(),R=Ie(),f=le(()=>R.getters[he]);le(()=>R.getters[_e]);const s=A(null),_=A(null),b=A(null),u=A(null),w=A(null),m=async l=>{let r=await be(l);return r||(U(`\u7801\u8868${l}\u52A0\u8F7D\u5931\u8D25`),[])},a=()=>{e.formDataBasicInfo=M({},e.formCopyData),u.value.removeAllFile()},v=()=>{const l=[];if(e.fileList.map(r=>{let[,c]=r.file.raw.type.split("/"),[y]=r.file.name.split("."+c);l.push({chi212:y,chi214:"."+c,chi217:"",che110:"",chi215:r.hadUpfile.data.objectid})}),!e.isNeedInput){$e(q(M({},e.formDataBasicInfo),{chb000:e.companyData.chb000,cpb100:e.companyData.cpb100,aab001:e.companyData.aab001,chb015:e.companyData.chb015,chb570:e.companyData.chb570,hi21List:JSON.stringify(l),userList:JSON.stringify([f.value])})).then(r=>{U.success("\u6295\u8BC9\u6210\u529F"),e.hadComplaind=!0});return}Se(q(M({},e.formDataBasicInfo),{hi21List:JSON.stringify(l),userList:JSON.stringify([f.value])})).then(r=>{U.success("\u6295\u8BC9\u6210\u529F"),e.hadComplaind=!0})},V=async()=>{const l=s.value.handleSubmit(),r=_.value.handleSubmit(),c=b.value.handleSubmit(),y=w.value.handleSubmit();if(!l||!r||!c||!y)return;const{arr:p,err:x}=await u.value.handleUpLoad();if(e.fileList=[...p],x){U.error("\u56FE\u7247\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");return}if(!e.formDataBasicInfo.isRead){U.warning("\u8BF7\u5148\u9605\u8BFB\u5E76\u52FE\u9009\u300A\u6295\u8BC9\u4E3E\u62A5\u987B\u77E5\u300B");return}v()};return O(async()=>{i.chb015=await m("chb015"),i.chi037=await m("chi037"),i.chb091=await m("chb091"),i.chi031=await m("chi031");let{companyData:l}=g.query;if(l&&(e.companyData=JSON.parse(l),e.companyData.aab012)){let{aab012:r,aab001:c,chi037:y,aab01w:p,chi031:x}=e.companyData;e.formDataBasicInfo=q(M({},e.formDataBasicInfo),{aab012:r,aab001:c,chi037:y,aab01w:p,chb091:"1",chi031:x}),e.isNeedInput=!1}e.formCopyData=M({},e.formDataBasicInfo)}),(l,r)=>(C(),I("div",Ut,[n("div",kt,[o(me,{renderData:D(d)},null,8,["renderData"]),n("div",Nt,[o(Fe,{formData:D(e).formDataBasicInfo,codeMap:D(i),ref_key:"WhistleblowerRef",ref:s},null,8,["formData","codeMap"]),o(ze,{formData:D(e).formDataBasicInfo,isNeedInput:D(e).isNeedInput,codeMap:D(i),ref_key:"ReportedRef",ref:_},null,8,["formData","isNeedInput","codeMap"]),o(at,{formData:D(e).formDataBasicInfo,codeMap:D(i),ref_key:"contentRef",ref:b},null,8,["formData","codeMap"]),o(pt,{ref_key:"voucherUploadRef",ref:u},null,512),o(Ct,{formData:D(e).formDataBasicInfo,hadComplaind:D(e).hadComplaind,ref_key:"complaintSubmitRef",ref:w,onReset:a,onSubmit:V,onShowModel:r[0]||(r[0]=c=>D(e).isShowComplaintNotice=!0)},null,8,["formData","hadComplaind"])])]),D(e).isShowComplaintNotice?(C(),T(jt,{key:0,onCloseModel:r[1]||(r[1]=c=>D(e).isShowComplaintNotice=!1)})):Z("",!0)]))}};var da=j(Et,[["__scopeId","data-v-6763982a"]]);export{da as default};
