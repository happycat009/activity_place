var z=Object.defineProperty,Y=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var v=(t,e,a)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,m=(t,e)=>{for(var a in e||(e={}))k.call(e,a)&&v(t,a,e[a]);if(f)for(var a of f(e))N.call(e,a)&&v(t,a,e[a]);return t},b=(t,e)=>Y(t,T(e));import{Y as D}from"./YhBreadcrumb.2e4fbba5.js";/* empty css             *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css                    *//* empty css                  */import{Y as w}from"./YhTitle.afde0dfe.js";import{r as C}from"./index.4c3bf3be.js";import{r as B}from"./requestE403.ebddbac2.js";import{h as y}from"./moment.08a7f518.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import{o as S,q as x,d as s,x as l,B as h,w as u,A as E,ae as P,C as M,af as q,aa as G,a as L}from"./vendor.94a1cd75.js";/* empty css                                                                 */const R=t=>{const e={methodname:"C414",chi037:t};return new Promise((a,r)=>{C("/frontRestService/frontCommonDataRestService/getData",e).then(o=>{a(o)}).catch(o=>{r(o)})})},I=t=>{const e=m({methodname:"E404"},t);return new Promise((a,r)=>{C("/frontRestService/frontCommonDataRestService/getData",e).then(o=>{a(o)}).catch(o=>{r(o)})})};const V={name:"PublicityDetailsTable",setup(){return{}},data(){return{value:["key1","key2"],tableData:[],id:"",titleData:{},chb00kChange:[{value:"1",name:"\u4E1A\u52A1\u8FDB\u884C\u4E2D"},{value:"2",name:"\u4E1A\u52A1\u901A\u8FC7"},{value:"3",name:"\u4E1A\u52A1\u4E0D\u901A\u8FC74"},{value:"4",name:"\u6253\u56DE\u6307\u5B9A\u8282\u70B9"},{value:"5",name:"\u56DE\u9000\u5230\u53D7\u7406\u8282\u70B9"},{value:"6",name:"\u4E1A\u52A1\u4F5C\u5E9F"},{value:"7",name:"\u7533\u62A5\u64A4\u9500"}],pageNo:1,pageSize:10,total:0}},components:{YhTitle:w},async mounted(){let{id:t}=this.$route.params;this.id=t;let e="";window.name==""?(e="1",window.name="isRefresh"):window.name=="isRefresh"&&console.log("\u9875\u9762\u88AB\u5237\u65B0"),this.hanleGetData(e),this.handleGetHeadData(),this.userCodeTableMap("aab01d"),this.userCodeTableMap("aab017"),this.userCodeTableMap("chb00k"),document.getElementsByClassName("el-pagination__jump")[0].childNodes[0].nodeValue="\u8DF3\u8F6C"},unmounted(){window.name=""},computed:{},methods:{arraySpanMethod({row:t,column:e,rowIndex:a,columnIndex:r}){},handleComplaint(t,e){let{aab001:a,cpb100:r,chb000:o,aab012:c,chi037:d,aab01w:n,chb015:p,chb570:_,chi031:g}=e;console.log(e,"value");let i={aab001:a,cpb100:r,chb000:o,aab012:c,chi037:d,aab01w:n,chb015:p,chb570:_,chi031:g};this.$router.push({path:"/home/publicity/complaint",query:{companyData:JSON.stringify(i)}})},hanleGetData(t){let e={pageNo:this.pageNo+"",pageSize:this.pageSize+"",chb570:this.id};t&&t=="1"&&(e=b(m({},e),{type:t})),I(e).then(a=>{var c,d;let r=a.data.hb49List?a.data.hb49List:[],o=[];r.map(n=>{o.push(m({},n))}),this.tableData=[...o],this.total=Number((d=(c=a==null?void 0:a.data)==null?void 0:c.hb49ListPageInfo)==null?void 0:d.total)})},async handleGetHeadData(){var p;let t={pageNo:this.pageNo+"",pageSize:this.pageSize+"",chb570:this.id},e=await B(t),a=(p=e==null?void 0:e.data)==null?void 0:p.hb57List[0],r=y(a.chb578).format("YYYY-MM-DD"),o=y(a.chb579).format("YYYY-MM-DD"),c=a.chb57e.replace(/\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}/g,"");this.titleData=b(m({},a),{chb578:r,chb579:o,chb57e:c});let d=await R(a.chi037),{che273:n}=d.data.he27List[0];this.titleData=b(m({},this.titleData),{che273:n})},handlePagesChange(t){this.pageNo=t,this.hanleGetData()},handlePageSizeChange(t){this.hanleGetData()}}},H={class:"publicity-details-table-wrapper"},A={class:"information-belongs"},J={class:"top"},O={class:"under"},U={class:"tel"},F={class:"table-wrapper"},K={style:{color:"#006bfd"}},Q={style:{color:"#006bfd"}},W=E("\u6295\u8BC9 "),X={class:"pagination-wrapper"};function Z(t,e,a,r,o,c){const d=w,n=P,p=M,_=q,g=G;return S(),x("div",H,[s(d,{title:o.titleData.chb57e,type:"03"},null,8,["title"]),l("div",A,[l("div",J,[l("span",null,"\u4E3B\u7BA1\u90E8\u95E8\uFF1A"+h(o.titleData.chi037Desc),1),l("span",null,"\u516C\u793A\u5F00\u59CB\u65E5\u671F\uFF1A"+h(o.titleData.chb578),1),l("span",null,"\u516C\u793A\u7ED3\u675F\u65E5\u671F\uFF1A"+h(o.titleData.chb579),1),l("span",null,"\u6D89\u53CA\u4F01\u4E1A\uFF08\u5355\u4F4D\uFF09\uFF1A"+h(o.titleData.ab01Total+"\u4E2A"),1),l("span",null,"\u6D4F\u89C8\u6B21\u6570\uFF1A"+h(o.titleData.chb57f),1)]),l("div",O,[l("span",null,"\u653F\u7B56\u4F9D\u636E\uFF1A"+h(o.titleData.chi051),1),l("span",U,"\u6295\u8BC9\u7535\u8BDD\uFF1A"+h(o.titleData.che273),1)])]),l("div",F,[s(_,{data:o.tableData,"span-method":c.arraySpanMethod,border:"","sum-text":"\u5408\u8BA1",style:{width:"100%"}},{default:u(()=>[s(n,{type:"index",align:"center",label:"\u5E8F\u53F7",width:"80"}),s(n,{prop:"aab012",width:"210",align:"center","show-overflow-tooltip":"",label:"\u4F01\u4E1A\u540D\u79F0"}),s(n,{prop:"aab01d",label:"\u4F01\u4E1A\u89C4\u6A21",width:"248",align:"center","show-overflow-tooltip":""},{default:u(i=>[l("div",null,h(i.row.aab01d?t.getCollectionDesc("aab01d",i.row.aab01d):"\u89C4\u4E0A\u670D\u52A1\u4E1A"),1)]),_:1}),s(n,{prop:"aae019",label:"\u6276\u6301\u91D1\u989D",align:"center",width:"196","show-overflow-tooltip":""},{default:u(i=>[l("div",K,h(t.unitConvert(i.row.aae019||0).num+t.unitConvert(i.row.aae019||0).unit+"\u5143"),1)]),_:1}),s(n,{prop:"chb00k",label:"\u7533\u62A5\u7ED3\u679C",align:"center",width:"196","show-overflow-tooltip":""},{default:u(i=>[l("div",Q,h(t.getCollectionDesc("chb00k",i.row.chb00k)),1)]),_:1}),s(n,{label:"\u6295\u8BC9",align:"center","header-align":"center"},{default:u(i=>[s(p,{size:"small",color:"#ffae00",style:{color:"#fff"},onClick:le=>c.handleComplaint(i.$index,i.row)},{default:u(()=>[W]),_:2},1032,["onClick"])]),_:1}),s(n,{prop:"chb00q",label:"\u5907\u6CE8",width:"124"})]),_:1},8,["data","span-method"])]),l("div",null,[l("div",X,[s(g,{background:"",layout:"prev, pager, next,sizes,jumper,total,slot",total:o.total,"page-size":o.pageSize,"onUpdate:page-size":e[0]||(e[0]=i=>o.pageSize=i),onCurrentChange:c.handlePagesChange,onSizeChange:c.handlePageSizeChange,"page-sizes":["10","20","30"]},null,8,["total","page-size","onCurrentChange","onSizeChange"])])])])}var $=j(V,[["render",Z],["__scopeId","data-v-6a32ecb3"]]);const ee={name:"PublicityDetails",data(){return{breadcrumbData:[{id:"01",path:"/home",name:"\u9996\u9875"},{id:"02",path:"/home/publicity",name:"\u9633\u5149\u516C\u793A"},{id:"03",path:"",name:"\u67E5\u770B\u8BE6\u60C5"}]}},components:{YhBreadcrumb:D,DetailsTable:$},computed:{}},te={class:"publicity-details"},ae={class:"container"};function oe(t,e,a,r,o,c){const d=D,n=L("DetailsTable");return S(),x("div",te,[l("div",ae,[s(d,{renderData:o.breadcrumbData},null,8,["renderData"]),s(n)])])}var je=j(ee,[["render",oe],["__scopeId","data-v-65fa55f8"]]);export{je as default};
